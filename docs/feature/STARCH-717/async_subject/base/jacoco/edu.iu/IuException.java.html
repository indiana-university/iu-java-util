<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>IuException.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">IU Base Utilities Module</a> &gt; <a href="index.source.html" class="el_package">edu.iu</a> &gt; <span class="el_source">IuException.java</span></div><h1>IuException.java</h1><pre class="source lang-java linenums">/*
 * Copyright Â© 2024 Indiana University
 * All rights reserved.
 *
 * BSD 3-Clause License
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * - Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * - Redistributions in binary form must reproduce the above copyright notice,
 *   this list of conditions and the following disclaimer in the documentation
 *   and/or other materials provided with the distribution.
 * 
 * - Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
package edu.iu;

import java.lang.reflect.Executable;
import java.lang.reflect.InvocationTargetException;

/**
 * Exception handling utilities.
 */
public final class IuException {

	/**
	 * Expects a {@link Throwable} to be an (unchecked) {@link RuntimeException}.
	 * 
	 * &lt;p&gt;
	 * This method &lt;em&gt;may&lt;/em&gt; be used as an exception handler in situations where
	 * {@link Throwable} or one or more {@link Exception checked exceptions} are
	 * thrown from a downstream invocation, but a {@link Exception checked
	 * exception} &lt;em&gt;must not&lt;/em&gt; be thrown from the interface being implemented
	 * and no special handling is specified.
	 * &lt;/p&gt;
	 * 
	 * &lt;pre&gt;
	 * try {
	 * 	// something unsafe
	 * } catch (Throwable e) {
	 * 	throw IuException.unchecked(e);
	 * }
	 * &lt;/pre&gt;
	 * 
	 * @param throwable Any {@link Throwable}
	 * @return {@code throwable} if {@link RuntimeException}
	 * @throws IllegalStateException if {@code throwable} is a {@link Exception
	 *                               checked exception} or {@link Throwable custom
	 *                               throwable}
	 * @throws Error                 if {@code throwable} is an {@link Error}
	 */
	public static RuntimeException unchecked(Throwable throwable) throws IllegalStateException, Error {
<span class="fc bfc" id="L69" title="All 2 branches covered.">		if (throwable instanceof RuntimeException)</span>
<span class="fc" id="L70">			return (RuntimeException) throwable;</span>

<span class="fc bfc" id="L72" title="All 2 branches covered.">		if (throwable instanceof Error)</span>
<span class="fc" id="L73">			throw (Error) throwable;</span>

<span class="fc" id="L75">		throw new IllegalStateException(throwable);</span>
	}

	/**
	 * Expects a {@link Throwable} to be a {@link Exception checked exception}.
	 * 
	 * &lt;p&gt;
	 * This method &lt;em&gt;may&lt;/em&gt; be used as an exception handler in situations where
	 * {@link Throwable} is thrown from a downstream invocation, but only
	 * {@link Exception exception} &lt;em&gt;may&lt;/em&gt; be thrown from the interface being
	 * implemented and special handling is not specified for {@link Throwable custom
	 * throwables}.
	 * &lt;/p&gt;
	 * 
	 * &lt;pre&gt;
	 * try {
	 * 	// something unsafe
	 * } catch (Throwable e) {
	 * 	throw IuException.checked(e);
	 * }
	 * &lt;/pre&gt;
	 * 
	 * @param throwable Any {@link Throwable}
	 * @return {@code throwable} if {@link Exception}
	 * @throws IllegalStateException if {@code throwable} is a {@link Throwable
	 *                               custom throwable}
	 * @throws Error                 if {@code throwable} is an {@link Error}
	 */
	public static Exception checked(Throwable throwable) throws Error, IllegalStateException {
<span class="fc bfc" id="L104" title="All 2 branches covered.">		if (throwable instanceof Exception)</span>
<span class="fc" id="L105">			return (Exception) throwable;</span>

<span class="fc bfc" id="L107" title="All 2 branches covered.">		else if (throwable instanceof Error)</span>
<span class="fc" id="L108">			throw (Error) throwable;</span>

<span class="fc" id="L110">		throw new IllegalStateException(throwable);</span>
	}

	/**
	 * Expects a {@link Throwable} to be a specific {@link Exception checked
	 * exception}.
	 * 
	 * &lt;p&gt;
	 * This method &lt;em&gt;may&lt;/em&gt; be used as an exception handler in situations where
	 * {@link Throwable}, {@link Exception}, or specific {@link Exception checked
	 * exceptions} are thrown from a downstream invocation, but at least one of
	 * these &lt;em&gt;must not&lt;/em&gt; be thrown from the interface being implemented and
	 * special handling is not specified for the unexpected {@link Throwable
	 * throwable types}.
	 * &lt;/p&gt;
	 * 
	 * &lt;pre&gt;
	 * try {
	 * 	// something unsafe
	 * } catch (Throwable e) {
	 * 	throw IuException.checked(e, ACheckedException.class);
	 * }
	 * &lt;/pre&gt;
	 * 
	 * @param &lt;T&gt;                    Expected exception type
	 * 
	 * @param throwable              Any {@link Throwable}
	 * @param expectedExceptionClass Expected exception class
	 * @return {@code throwable} if {@code instanceof T}
	 * 
	 * @throws RuntimeException      if {@code throwable} is a
	 *                               {@link RuntimeException}
	 * @throws Error                 if {@code throwable} is an {@link Error}
	 * @throws IllegalStateException if {@code throwable} is custom or a
	 *                               {@link Exception checked exception} other than
	 *                               {@code T}
	 */
	public static &lt;T extends Exception&gt; T checked(Throwable throwable, Class&lt;T&gt; expectedExceptionClass)
			throws RuntimeException, Error, IllegalStateException {
<span class="fc bfc" id="L149" title="All 2 branches covered.">		if (expectedExceptionClass.isInstance(throwable))</span>
<span class="fc" id="L150">			return expectedExceptionClass.cast(throwable);</span>

<span class="fc bfc" id="L152" title="All 2 branches covered.">		else if (throwable instanceof Error)</span>
<span class="fc" id="L153">			throw (Error) throwable;</span>

<span class="fc bfc" id="L155" title="All 2 branches covered.">		else if (throwable instanceof RuntimeException)</span>
<span class="fc" id="L156">			throw (RuntimeException) throwable;</span>

<span class="fc" id="L158">		throw new IllegalStateException(throwable);</span>
	}

	/**
	 * Expects a {@link Throwable} to be a specific {@link Exception checked
	 * exception}.
	 * 
	 * &lt;p&gt;
	 * This method &lt;em&gt;may&lt;/em&gt; be used as an exception handler in situations where
	 * {@link Throwable}, {@link Exception}, or specific {@link Exception checked
	 * exceptions} are thrown from a downstream invocation, but at least one of
	 * these &lt;em&gt;must not&lt;/em&gt; be thrown from the interface being implemented and
	 * special handling is not specified for the unexpected {@link Throwable
	 * throwable types}.
	 * &lt;/p&gt;
	 * 
	 * &lt;pre&gt;
	 * try {
	 * 	// something unsafe
	 * } catch (Throwable e) {
	 * 	throw IuException.checked(e, ACheckedException.class, AnotherCheckedException.class);
	 * }
	 * &lt;/pre&gt;
	 * 
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Additional exception type that &lt;em&gt;may&lt;/em&gt; be
	 *                                thrown
	 * 
	 * @param throwable               Any {@link Throwable}
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Additional exception class that &lt;em&gt;may&lt;/em&gt;
	 *                                be thrown
	 * @return {@code throwable} if {@code instanceof T1}
	 * @throws T2                    if {@code throwable} is {@code T2}
	 * @throws RuntimeException      if {@code throwable} is a
	 *                               {@link RuntimeException}
	 * @throws Error                 if {@code throwable} is an {@link Error}
	 * @throws IllegalStateException if {@code throwable} is custom or a
	 *                               {@link Exception checked exception} other than
	 *                               {@code T} be thrown
	 */
	public static &lt;T1 extends Exception, T2 extends Exception&gt; T1 checked(Throwable throwable,
			Class&lt;T1&gt; expectedExceptionClass1, Class&lt;T2&gt; expectedExceptionClass2)
			throws T2, RuntimeException, Error, IllegalStateException {
<span class="fc bfc" id="L202" title="All 2 branches covered.">		if (expectedExceptionClass1.isInstance(throwable))</span>
<span class="fc" id="L203">			return expectedExceptionClass1.cast(throwable);</span>

<span class="fc bfc" id="L205" title="All 2 branches covered.">		else if (expectedExceptionClass2.isInstance(throwable))</span>
<span class="fc" id="L206">			throw expectedExceptionClass2.cast(throwable);</span>

<span class="fc bfc" id="L208" title="All 2 branches covered.">		else if (throwable instanceof RuntimeException)</span>
<span class="fc" id="L209">			throw (RuntimeException) throwable;</span>

<span class="fc bfc" id="L211" title="All 2 branches covered.">		else if (throwable instanceof Error)</span>
<span class="fc" id="L212">			throw (Error) throwable;</span>

<span class="fc" id="L214">		throw new IllegalStateException(throwable);</span>
	}

	/**
	 * Expects a {@link Throwable} to be a specific {@link Exception checked
	 * exception}.
	 * 
	 * &lt;p&gt;
	 * This method &lt;em&gt;may&lt;/em&gt; be used as an exception handler in situations where
	 * {@link Throwable}, {@link Exception}, or specific {@link Exception checked
	 * exceptions} are thrown from a downstream invocation, but at least one of
	 * these &lt;em&gt;must not&lt;/em&gt; be thrown from the interface being implemented and
	 * special handling is not specified for the unexpected {@link Throwable
	 * throwable types}.
	 * &lt;/p&gt;
	 * 
	 * &lt;pre&gt;
	 * try {
	 * 	// something unsafe
	 * } catch (Throwable e) {
	 * 	throw IuException.checked(e, ACheckedException.class, AnotherCheckedException.class,
	 * 			YetAnotherCheckedException.class);
	 * }
	 * &lt;/pre&gt;
	 * 
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Additional exception type that &lt;em&gt;may&lt;/em&gt; be
	 *                                thrown
	 * @param &lt;T3&gt;                    Additional exception type that &lt;em&gt;may&lt;/em&gt; be
	 *                                thrown
	 * 
	 * @param throwable               Any {@link Throwable}
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Additional exception class that &lt;em&gt;may&lt;/em&gt;
	 *                                be thrown
	 * @param expectedExceptionClass3 Additional exception class that &lt;em&gt;may&lt;/em&gt;
	 *                                be thrown
	 * @return {@code throwable} if {@code instanceof T1}
	 * @throws T2                    if {@code throwable} is {@code T2}
	 * @throws T3                    if {@code throwable} is {@code T3}
	 * @throws RuntimeException      if {@code throwable} is a
	 *                               {@link RuntimeException}
	 * @throws Error                 if {@code throwable} is an {@link Error}
	 * @throws IllegalStateException if {@code throwable} is custom or a
	 *                               {@link Exception checked exception} other than
	 *                               {@code T} be thrown
	 */
	public static &lt;T1 extends Exception, T2 extends Exception, T3 extends Exception&gt; T1 checked(Throwable throwable,
			Class&lt;T1&gt; expectedExceptionClass1, Class&lt;T2&gt; expectedExceptionClass2, Class&lt;T3&gt; expectedExceptionClass3)
			throws T2, T3, RuntimeException, Error, IllegalStateException {
<span class="fc bfc" id="L264" title="All 2 branches covered.">		if (expectedExceptionClass1.isInstance(throwable))</span>
<span class="fc" id="L265">			return expectedExceptionClass1.cast(throwable);</span>

<span class="fc bfc" id="L267" title="All 2 branches covered.">		else if (expectedExceptionClass2.isInstance(throwable))</span>
<span class="fc" id="L268">			throw expectedExceptionClass2.cast(throwable);</span>

<span class="fc bfc" id="L270" title="All 2 branches covered.">		else if (expectedExceptionClass3.isInstance(throwable))</span>
<span class="fc" id="L271">			throw expectedExceptionClass3.cast(throwable);</span>

<span class="fc bfc" id="L273" title="All 2 branches covered.">		else if (throwable instanceof RuntimeException)</span>
<span class="fc" id="L274">			throw (RuntimeException) throwable;</span>

<span class="fc bfc" id="L276" title="All 2 branches covered.">		else if (throwable instanceof Error)</span>
<span class="fc" id="L277">			throw (Error) throwable;</span>

<span class="fc" id="L279">		throw new IllegalStateException(throwable);</span>
	}

	/**
	 * Gracefully invokes a supplier assumed to wrap {@link Executable invocation}.
	 * 
	 * &lt;p&gt;
	 * Handles {@link InvocationTargetException} by unwrapping the cause and
	 * re-throwing.
	 * &lt;/p&gt;
	 * &lt;p&gt;
	 * Handles other exceptions via {@link #unchecked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;R&gt;      result type
	 * @param supplier {@link UnsafeSupplier} assumed to wrap {@link Executable
	 *                 invocation}.
	 * @return result
	 */
	public static &lt;R&gt; R uncheckedInvocation(UnsafeSupplier&lt;R&gt; supplier) {
		try {
			try {
<span class="fc" id="L301">				return supplier.get();</span>
<span class="fc" id="L302">			} catch (InvocationTargetException e) {</span>
<span class="fc" id="L303">				throw e.getCause();</span>
			}
<span class="fc" id="L305">		} catch (Throwable e) {</span>
<span class="fc" id="L306">			throw unchecked(e);</span>
		}
	}

	/**
	 * Gracefully invokes a {@link Executable method or constructor}.
	 * 
	 * &lt;p&gt;
	 * Handles {@link InvocationTargetException} by unwrapping the cause and
	 * re-throwing.
	 * &lt;/p&gt;
	 * &lt;p&gt;
	 * Handles other exceptions via {@link #checked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;R&gt;      result type
	 * @param supplier {@link UnsafeSupplier} assumed to wrap {@link Executable
	 *                 invocation}.
	 * @return result
	 * @throws Exception If invocation fails
	 */
	public static &lt;R&gt; R checkedInvocation(UnsafeSupplier&lt;R&gt; supplier) throws Exception {
		try {
			try {
<span class="fc" id="L330">				return supplier.get();</span>
<span class="fc" id="L331">			} catch (InvocationTargetException e) {</span>
<span class="fc" id="L332">				throw e.getCause();</span>
			}
<span class="fc" id="L334">		} catch (Throwable e) {</span>
<span class="fc" id="L335">			throw checked(e);</span>
		}
	}

	/**
	 * Gracefully invokes a {@link Executable method or constructor}.
	 * 
	 * &lt;p&gt;
	 * Handles {@link InvocationTargetException} by unwrapping the cause and
	 * re-throwing.
	 * &lt;/p&gt;
	 * &lt;p&gt;
	 * Handles other exceptions via {@link #checked(Throwable, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;R&gt;                    result type
	 * @param &lt;T&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass Expected exception class
	 * @param supplier               {@link UnsafeSupplier} assumed to wrap
	 *                               {@link Executable invocation}.
	 * @return result
	 * 
	 * @throws T If invocation fails
	 */
	public static &lt;R, T extends Exception&gt; R checkedInvocation(Class&lt;T&gt; expectedExceptionClass,
			UnsafeSupplier&lt;R&gt; supplier) throws T {
		try {
			try {
<span class="fc" id="L364">				return supplier.get();</span>
<span class="fc" id="L365">			} catch (InvocationTargetException e) {</span>
<span class="fc" id="L366">				throw e.getCause();</span>
			}
<span class="fc" id="L368">		} catch (Throwable e) {</span>
<span class="fc" id="L369">			throw checked(e, expectedExceptionClass);</span>
		}
	}

	/**
	 * Gracefully invokes a {@link Executable method or constructor}.
	 * 
	 * &lt;p&gt;
	 * Handles {@link InvocationTargetException} by unwrapping the cause and
	 * re-throwing.
	 * &lt;/p&gt;
	 * &lt;p&gt;
	 * Handles other exceptions via {@link #checked(Throwable, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;R&gt;                     result type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param supplier                {@link UnsafeSupplier} assumed to wrap
	 *                                {@link Executable invocation}.
	 * @return result
	 * @throws T1 If invocation fails
	 * @throws T2 If invocation fails
	 */
	public static &lt;R, T1 extends Exception, T2 extends Exception&gt; R checkedInvocation(Class&lt;T1&gt; expectedExceptionClass1,
			Class&lt;T2&gt; expectedExceptionClass2, UnsafeSupplier&lt;R&gt; supplier) throws T1, T2 {
		try {
			try {
<span class="fc" id="L400">				return supplier.get();</span>
<span class="fc" id="L401">			} catch (InvocationTargetException e) {</span>
<span class="fc" id="L402">				throw e.getCause();</span>
			}
<span class="fc" id="L404">		} catch (Throwable e) {</span>
<span class="fc" id="L405">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2);</span>
		}
	}

	/**
	 * Gracefully invokes a {@link Executable method or constructor}.
	 * 
	 * &lt;p&gt;
	 * Handles {@link InvocationTargetException} by unwrapping the cause and
	 * re-throwing.
	 * &lt;/p&gt;
	 * &lt;p&gt;
	 * Handles other exceptions via
	 * {@link #checked(Throwable, Class, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;R&gt;                     result type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * @param &lt;T3&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param expectedExceptionClass3 Expected exception class
	 * @param supplier                {@link UnsafeSupplier} assumed to wrap
	 *                                {@link Executable invocation}.
	 * @return result
	 * @throws T1 If invocation fails
	 * @throws T2 If invocation fails
	 * @throws T3 If invocation fails
	 */
	public static &lt;R, T1 extends Exception, T2 extends Exception, T3 extends Exception&gt; R checkedInvocation(
			Class&lt;T1&gt; expectedExceptionClass1, Class&lt;T2&gt; expectedExceptionClass2, Class&lt;T3&gt; expectedExceptionClass3,
			UnsafeSupplier&lt;R&gt; supplier) throws T1, T2, T3 {
		try {
			try {
<span class="fc" id="L441">				return supplier.get();</span>
<span class="fc" id="L442">			} catch (InvocationTargetException e) {</span>
<span class="fc" id="L443">				throw e.getCause();</span>
			}
<span class="fc" id="L445">		} catch (Throwable e) {</span>
<span class="fc" id="L446">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2, expectedExceptionClass3);</span>
		}
	}

	/**
	 * Gracefully runs an {@link UnsafeRunnable}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #unchecked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param runnable Any {@link UnsafeRunnable}
	 */
	public static void unchecked(UnsafeRunnable runnable) {
		try {
<span class="fc" id="L461">			runnable.run();</span>
<span class="fc" id="L462">		} catch (Throwable e) {</span>
<span class="fc" id="L463">			throw unchecked(e);</span>
<span class="fc" id="L464">		}</span>
<span class="fc" id="L465">	}</span>

	/**
	 * Gracefully runs an {@link UnsafeRunnable}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param runnable Any {@link UnsafeRunnable}
	 * @throws Exception If thrown by {@link UnsafeRunnable#run()}
	 */
	public static void checked(UnsafeRunnable runnable) throws Exception {
		try {
<span class="fc" id="L479">			runnable.run();</span>
<span class="fc" id="L480">		} catch (Throwable e) {</span>
<span class="fc" id="L481">			throw checked(e);</span>
<span class="fc" id="L482">		}</span>
<span class="fc" id="L483">	}</span>

	/**
	 * Gracefully runs an {@link UnsafeRunnable}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass Expected exception class
	 * 
	 * @param runnable               Any {@link UnsafeRunnable}
	 * @throws T If thrown by {@link UnsafeRunnable#run()}
	 */
	public static &lt;T extends Exception&gt; void checked(Class&lt;T&gt; expectedExceptionClass, UnsafeRunnable runnable)
			throws T {
		try {
<span class="fc" id="L502">			runnable.run();</span>
<span class="fc" id="L503">		} catch (Throwable e) {</span>
<span class="fc" id="L504">			throw checked(e, expectedExceptionClass);</span>
<span class="fc" id="L505">		}</span>
<span class="fc" id="L506">	}</span>

	/**
	 * Gracefully runs an {@link UnsafeRunnable}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * 
	 * @param runnable                Any {@link UnsafeRunnable}
	 * @throws T1 If thrown by {@link UnsafeRunnable#run()}
	 * @throws T2 If thrown by {@link UnsafeRunnable#run()}
	 */
	public static &lt;T1 extends Exception, T2 extends Exception&gt; void checked(Class&lt;T1&gt; expectedExceptionClass1,
			Class&lt;T2&gt; expectedExceptionClass2, UnsafeRunnable runnable) throws T1, T2 {
		try {
<span class="fc" id="L528">			runnable.run();</span>
<span class="fc" id="L529">		} catch (Throwable e) {</span>
<span class="fc" id="L530">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2);</span>
<span class="fc" id="L531">		}</span>
<span class="fc" id="L532">	}</span>

	/**
	 * Gracefully runs an {@link UnsafeRunnable}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * @param &lt;T3&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param expectedExceptionClass3 Expected exception class
	 * 
	 * @param runnable                Any {@link UnsafeRunnable}
	 * @throws T1 If thrown by {@link UnsafeRunnable#run()}
	 * @throws T2 If thrown by {@link UnsafeRunnable#run()}
	 * @throws T3 If thrown by {@link UnsafeRunnable#run()}
	 */
	public static &lt;T1 extends Exception, T2 extends Exception, T3 extends Exception&gt; void checked(
			Class&lt;T1&gt; expectedExceptionClass1, Class&lt;T2&gt; expectedExceptionClass2, Class&lt;T3&gt; expectedExceptionClass3,
			UnsafeRunnable runnable) throws T1, T2, T3 {
		try {
<span class="fc" id="L558">			runnable.run();</span>
<span class="fc" id="L559">		} catch (Throwable e) {</span>
<span class="fc" id="L560">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2, expectedExceptionClass3);</span>
<span class="fc" id="L561">		}</span>
<span class="fc" id="L562">	}</span>

	/**
	 * Gracefully gets from an {@link UnsafeSupplier}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #unchecked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;      result type
	 * 
	 * @param supplier Any {@link UnsafeSupplier}
	 * @return result
	 */
	public static &lt;T&gt; T unchecked(UnsafeSupplier&lt;T&gt; supplier) {
		try {
<span class="fc" id="L578">			return supplier.get();</span>
<span class="fc" id="L579">		} catch (Throwable e) {</span>
<span class="fc" id="L580">			throw unchecked(e);</span>
		}
	}

	/**
	 * Gracefully gets from an {@link UnsafeSupplier}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;      result type
	 * 
	 * @param supplier Any {@link UnsafeSupplier}
	 * @return result
	 * @throws Exception If thrown by {@link UnsafeSupplier#get()}
	 */
	public static &lt;T&gt; T checked(UnsafeSupplier&lt;T&gt; supplier) throws Exception {
		try {
<span class="fc" id="L599">			return supplier.get();</span>
<span class="fc" id="L600">		} catch (Throwable e) {</span>
<span class="fc" id="L601">			throw checked(e);</span>
		}
	}

	/**
	 * Gracefully gets from an {@link UnsafeSupplier}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                    result type
	 * @param &lt;T1&gt;                   Expected exception type
	 * 
	 * @param expectedExceptionClass Expected exception class
	 * @param supplier               Any {@link UnsafeSupplier}
	 * @return result
	 * @throws T1 If thrown by {@link UnsafeSupplier#get()}
	 */
	public static &lt;T, T1 extends Exception&gt; T checked(Class&lt;T1&gt; expectedExceptionClass, UnsafeSupplier&lt;T&gt; supplier)
			throws T1 {
		try {
<span class="fc" id="L623">			return supplier.get();</span>
<span class="fc" id="L624">		} catch (Throwable e) {</span>
<span class="fc" id="L625">			throw checked(e, expectedExceptionClass);</span>
		}
	}

	/**
	 * Gracefully gets from an {@link UnsafeSupplier}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                     result type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param supplier                Any {@link UnsafeSupplier}
	 * @return result
	 * @throws T1 If thrown by {@link UnsafeSupplier#get()}
	 * @throws T2 If thrown by {@link UnsafeSupplier#get()}
	 */
	public static &lt;T, T1 extends Exception, T2 extends Exception&gt; T checked(Class&lt;T1&gt; expectedExceptionClass1,
			Class&lt;T2&gt; expectedExceptionClass2, UnsafeSupplier&lt;T&gt; supplier) throws T1, T2 {
		try {
<span class="fc" id="L650">			return supplier.get();</span>
<span class="fc" id="L651">		} catch (Throwable e) {</span>
<span class="fc" id="L652">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2);</span>
		}
	}

	/**
	 * Gracefully gets from an {@link UnsafeSupplier}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                     result type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * @param &lt;T3&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param expectedExceptionClass3 Expected exception class
	 * @param supplier                Any {@link UnsafeSupplier}
	 * @return result
	 * @throws T1 If thrown by {@link UnsafeSupplier#get()}
	 * @throws T2 If thrown by {@link UnsafeSupplier#get()}
	 * @throws T3 If thrown by {@link UnsafeSupplier#get()}
	 */
	public static &lt;T, T1 extends Exception, T2 extends Exception, T3 extends Exception&gt; T checked(
			Class&lt;T1&gt; expectedExceptionClass1, Class&lt;T2&gt; expectedExceptionClass2, Class&lt;T3&gt; expectedExceptionClass3,
			UnsafeSupplier&lt;T&gt; supplier) throws T1, T2, T3 {
		try {
<span class="fc" id="L681">			return supplier.get();</span>
<span class="fc" id="L682">		} catch (Throwable e) {</span>
<span class="fc" id="L683">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2, expectedExceptionClass3);</span>
		}
	}

	/**
	 * Gracefully supplies a value to an {@link UnsafeConsumer}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #unchecked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;      argument type
	 * 
	 * @param argument Argument for {@link UnsafeConsumer#accept(Object)}
	 * @param consumer Any {@link UnsafeConsumer}
	 */
	public static &lt;T&gt; void unchecked(T argument, UnsafeConsumer&lt;T&gt; consumer) {
		try {
<span class="fc" id="L701">			consumer.accept(argument);</span>
<span class="fc" id="L702">		} catch (Throwable e) {</span>
<span class="fc" id="L703">			throw unchecked(e);</span>
<span class="fc" id="L704">		}</span>
<span class="fc" id="L705">	}</span>

	/**
	 * Gracefully supplies a value to an {@link UnsafeConsumer}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;      argument type
	 * 
	 * @param argument Argument for {@link UnsafeConsumer#accept(Object)}
	 * @param consumer Any {@link UnsafeConsumer}
	 * @throws Exception If thrown by {@link UnsafeConsumer#accept(Object)}
	 */
	public static &lt;T&gt; void checked(T argument, UnsafeConsumer&lt;T&gt; consumer) throws Exception {
		try {
<span class="fc" id="L722">			consumer.accept(argument);</span>
<span class="fc" id="L723">		} catch (Throwable e) {</span>
<span class="fc" id="L724">			throw checked(e);</span>
<span class="fc" id="L725">		}</span>
<span class="fc" id="L726">	}</span>

	/**
	 * Gracefully supplies a value to an {@link UnsafeConsumer}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                    argument type
	 * @param &lt;T1&gt;                   Expected exception type
	 * 
	 * @param expectedExceptionClass Expected exception class
	 * @param argument               Argument for
	 *                               {@link UnsafeConsumer#accept(Object)}
	 * @param consumer               Any {@link UnsafeConsumer}
	 * 
	 * @throws T1 If thrown by {@link UnsafeConsumer#accept(Object)}
	 */
	public static &lt;T, T1 extends Exception&gt; void checked(Class&lt;T1&gt; expectedExceptionClass, T argument,
			UnsafeConsumer&lt;T&gt; consumer) throws T1 {
		try {
<span class="fc" id="L748">			consumer.accept(argument);</span>
<span class="fc" id="L749">		} catch (Throwable e) {</span>
<span class="fc" id="L750">			throw checked(e, expectedExceptionClass);</span>
<span class="fc" id="L751">		}</span>
<span class="fc" id="L752">	}</span>

	/**
	 * Gracefully supplies a value to an {@link UnsafeConsumer}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                     argument type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param argument                Argument for
	 *                                {@link UnsafeConsumer#accept(Object)}
	 * @param consumer                Any {@link UnsafeConsumer}
	 * 
	 * @throws T1 If thrown by {@link UnsafeConsumer#accept(Object)}
	 * @throws T2 If thrown by {@link UnsafeConsumer#accept(Object)}
	 */
	public static &lt;T, T1 extends Exception, T2 extends Exception&gt; void checked(Class&lt;T1&gt; expectedExceptionClass1,
			Class&lt;T2&gt; expectedExceptionClass2, T argument, UnsafeConsumer&lt;T&gt; consumer) throws T1, T2 {
		try {
<span class="fc" id="L777">			consumer.accept(argument);</span>
<span class="fc" id="L778">		} catch (Throwable e) {</span>
<span class="fc" id="L779">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2);</span>
<span class="fc" id="L780">		}</span>
<span class="fc" id="L781">	}</span>

	/**
	 * Gracefully supplies a value to an {@link UnsafeConsumer}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                     argument type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * @param &lt;T3&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param expectedExceptionClass3 Expected exception class
	 * @param argument                Argument for
	 *                                {@link UnsafeConsumer#accept(Object)}
	 * @param consumer                Any {@link UnsafeConsumer}
	 * 
	 * @throws T1 If thrown by {@link UnsafeConsumer#accept(Object)}
	 * @throws T2 If thrown by {@link UnsafeConsumer#accept(Object)}
	 * @throws T3 If thrown by {@link UnsafeConsumer#accept(Object)}
	 */
	public static &lt;T, T1 extends Exception, T2 extends Exception, T3 extends Exception&gt; void checked(
			Class&lt;T1&gt; expectedExceptionClass1, Class&lt;T2&gt; expectedExceptionClass2, Class&lt;T3&gt; expectedExceptionClass3,
			T argument, UnsafeConsumer&lt;T&gt; consumer) throws T1, T2, T3 {
		try {
<span class="fc" id="L810">			consumer.accept(argument);</span>
<span class="fc" id="L811">		} catch (Throwable e) {</span>
<span class="fc" id="L812">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2, expectedExceptionClass3);</span>
<span class="fc" id="L813">		}</span>
<span class="fc" id="L814">	}</span>

	/**
	 * Gracefully applies an {@link UnsafeFunction}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #unchecked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;      argument type
	 * @param &lt;R&gt;      result type
	 * 
	 * @param argument Argument to {@link UnsafeFunction#apply(Object)}
	 * @param function Any {@link UnsafeFunction}
	 * @return result
	 */
	public static &lt;T, R&gt; R unchecked(T argument, UnsafeFunction&lt;T, R&gt; function) {
		try {
<span class="fc" id="L832">			return function.apply(argument);</span>
<span class="fc" id="L833">		} catch (Throwable e) {</span>
<span class="fc" id="L834">			throw unchecked(e);</span>
		}
	}

	/**
	 * Gracefully applies an {@link UnsafeFunction}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;      argument type
	 * @param &lt;R&gt;      result type
	 * 
	 * @param argument Argument to {@link UnsafeFunction#apply(Object)}
	 * @param function Any {@link UnsafeFunction}
	 * @return result
	 * @throws Exception If thrown by {@link UnsafeFunction#apply(Object)}
	 */
	public static &lt;T, R&gt; R checked(T argument, UnsafeFunction&lt;T, R&gt; function) throws Exception {
		try {
<span class="fc" id="L855">			return function.apply(argument);</span>
<span class="fc" id="L856">		} catch (Throwable e) {</span>
<span class="fc" id="L857">			throw checked(e);</span>
		}
	}

	/**
	 * Gracefully applies an {@link UnsafeFunction}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                    argument type
	 * @param &lt;R&gt;                    result type
	 * @param &lt;T1&gt;                   Expected exception type
	 * 
	 * @param expectedExceptionClass Expected exception class
	 * @param argument               Argument to
	 *                               {@link UnsafeFunction#apply(Object)}
	 * @param function               Any {@link UnsafeFunction}
	 * @return result
	 * @throws T1 If thrown by {@link UnsafeFunction#apply(Object)}
	 */
	public static &lt;T, R, T1 extends Exception&gt; R checked(Class&lt;T1&gt; expectedExceptionClass, T argument,
			UnsafeFunction&lt;T, R&gt; function) throws T1 {
		try {
<span class="fc" id="L882">			return function.apply(argument);</span>
<span class="fc" id="L883">		} catch (Throwable e) {</span>
<span class="fc" id="L884">			throw checked(e, expectedExceptionClass);</span>
		}
	}

	/**
	 * Gracefully applies an {@link UnsafeFunction}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                     argument type
	 * @param &lt;R&gt;                     result type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param argument                Argument to
	 *                                {@link UnsafeFunction#apply(Object)}
	 * @param function                Any {@link UnsafeFunction}
	 * @return result
	 * @throws T1 If thrown by {@link UnsafeFunction#apply(Object)}
	 * @throws T2 If thrown by {@link UnsafeFunction#apply(Object)}
	 */
	public static &lt;T, R, T1 extends Exception, T2 extends Exception&gt; R checked(Class&lt;T1&gt; expectedExceptionClass1,
			Class&lt;T2&gt; expectedExceptionClass2, T argument, UnsafeFunction&lt;T, R&gt; function) throws T1, T2 {
		try {
<span class="fc" id="L912">			return function.apply(argument);</span>
<span class="fc" id="L913">		} catch (Throwable e) {</span>
<span class="fc" id="L914">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2);</span>
		}
	}

	/**
	 * Gracefully applies an {@link UnsafeFunction}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                     argument type
	 * @param &lt;R&gt;                     result type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * @param &lt;T3&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param expectedExceptionClass3 Expected exception class
	 * @param argument                Argument to
	 *                                {@link UnsafeFunction#apply(Object)}
	 * @param function                Any {@link UnsafeFunction}
	 * @return result
	 * @throws T1 If thrown by {@link UnsafeFunction#apply(Object)}
	 * @throws T2 If thrown by {@link UnsafeFunction#apply(Object)}
	 * @throws T3 If thrown by {@link UnsafeFunction#apply(Object)}
	 */
	public static &lt;T, R, T1 extends Exception, T2 extends Exception, T3 extends Exception&gt; R checked(
			Class&lt;T1&gt; expectedExceptionClass1, Class&lt;T2&gt; expectedExceptionClass2, Class&lt;T3&gt; expectedExceptionClass3,
			T argument, UnsafeFunction&lt;T, R&gt; function) throws T1, T2, T3 {
		try {
<span class="fc" id="L946">			return function.apply(argument);</span>
<span class="fc" id="L947">		} catch (Throwable e) {</span>
<span class="fc" id="L948">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2, expectedExceptionClass3);</span>
		}
	}

	/**
	 * Gracefully supplies a value to an {@link UnsafeBiConsumer}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #unchecked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;            first argument type
	 * @param &lt;U&gt;            second argument type
	 * 
	 * @param firstArgument  First argument for
	 *                       {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @param secondArgument Second argument for
	 *                       {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @param consumer       Any {@link UnsafeBiConsumer}
	 */
	public static &lt;T, U&gt; void unchecked(T firstArgument, U secondArgument, UnsafeBiConsumer&lt;T, U&gt; consumer) {
		try {
<span class="fc" id="L970">			consumer.accept(firstArgument, secondArgument);</span>
<span class="fc" id="L971">		} catch (Throwable e) {</span>
<span class="fc" id="L972">			throw unchecked(e);</span>
<span class="fc" id="L973">		}</span>
<span class="fc" id="L974">	}</span>

	/**
	 * Gracefully supplies a value to an {@link UnsafeBiConsumer}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;            first argument type
	 * @param &lt;U&gt;            second argument type
	 * 
	 * @param firstArgument  Argument for
	 *                       {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @param secondArgument Second argument for
	 *                       {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @param consumer       Any {@link UnsafeBiConsumer}
	 * @throws Exception If thrown by {@link UnsafeBiConsumer#accept(Object,Object)}
	 */
	public static &lt;T, U&gt; void checked(T firstArgument, U secondArgument, UnsafeBiConsumer&lt;T, U&gt; consumer)
			throws Exception {
		try {
<span class="fc" id="L996">			consumer.accept(firstArgument, secondArgument);</span>
<span class="fc" id="L997">		} catch (Throwable e) {</span>
<span class="fc" id="L998">			throw checked(e);</span>
<span class="fc" id="L999">		}</span>
<span class="fc" id="L1000">	}</span>

	/**
	 * Gracefully supplies a value to an {@link UnsafeBiConsumer}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                    first argument type
	 * @param &lt;U&gt;                    second argument type
	 * @param &lt;T1&gt;                   Expected exception type
	 * 
	 * @param expectedExceptionClass Expected exception class
	 * @param firstArgument          Argument for
	 *                               {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @param secondArgument         Second argument for
	 *                               {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @param consumer               Any {@link UnsafeBiConsumer}
	 * 
	 * @throws T1 If thrown by {@link UnsafeBiConsumer#accept(Object,Object)}
	 */
	public static &lt;T, U, T1 extends Exception&gt; void checked(Class&lt;T1&gt; expectedExceptionClass, T firstArgument,
			U secondArgument, UnsafeBiConsumer&lt;T, U&gt; consumer) throws T1 {
		try {
<span class="fc" id="L1025">			consumer.accept(firstArgument, secondArgument);</span>
<span class="fc" id="L1026">		} catch (Throwable e) {</span>
<span class="fc" id="L1027">			throw checked(e, expectedExceptionClass);</span>
<span class="fc" id="L1028">		}</span>
<span class="fc" id="L1029">	}</span>

	/**
	 * Gracefully supplies a value to an {@link UnsafeBiConsumer}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                     first argument type
	 * @param &lt;U&gt;                     second argument type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param firstArgument           Argument for
	 *                                {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @param secondArgument          Second argument for
	 *                                {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @param consumer                Any {@link UnsafeBiConsumer}
	 * 
	 * @throws T1 If thrown by {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @throws T2 If thrown by {@link UnsafeBiConsumer#accept(Object,Object)}
	 */
	public static &lt;T, U, T1 extends Exception, T2 extends Exception&gt; void checked(Class&lt;T1&gt; expectedExceptionClass1,
			Class&lt;T2&gt; expectedExceptionClass2, T firstArgument, U secondArgument, UnsafeBiConsumer&lt;T, U&gt; consumer)
			throws T1, T2 {
		try {
<span class="fc" id="L1058">			consumer.accept(firstArgument, secondArgument);</span>
<span class="fc" id="L1059">		} catch (Throwable e) {</span>
<span class="fc" id="L1060">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2);</span>
<span class="fc" id="L1061">		}</span>
<span class="fc" id="L1062">	}</span>

	/**
	 * Gracefully supplies a value to an {@link UnsafeBiConsumer}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                     first argument type
	 * @param &lt;U&gt;                     second argument type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * @param &lt;T3&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param expectedExceptionClass3 Expected exception class
	 * @param firstArgument           Argument for
	 *                                {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @param secondArgument          Second argument for
	 *                                {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @param consumer                Any {@link UnsafeBiConsumer}
	 * 
	 * @throws T1 If thrown by {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @throws T2 If thrown by {@link UnsafeBiConsumer#accept(Object,Object)}
	 * @throws T3 If thrown by {@link UnsafeBiConsumer#accept(Object,Object)}
	 */
	public static &lt;T, U, T1 extends Exception, T2 extends Exception, T3 extends Exception&gt; void checked(
			Class&lt;T1&gt; expectedExceptionClass1, Class&lt;T2&gt; expectedExceptionClass2, Class&lt;T3&gt; expectedExceptionClass3,
			T firstArgument, U secondArgument, UnsafeBiConsumer&lt;T, U&gt; consumer) throws T1, T2, T3 {
		try {
<span class="fc" id="L1094">			consumer.accept(firstArgument, secondArgument);</span>
<span class="fc" id="L1095">		} catch (Throwable e) {</span>
<span class="fc" id="L1096">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2, expectedExceptionClass3);</span>
<span class="fc" id="L1097">		}</span>
<span class="fc" id="L1098">	}</span>

	/**
	 * Gracefully applies an {@link UnsafeBiFunction}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #unchecked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;            first argument type
	 * @param &lt;U&gt;            second argument type
	 * @param &lt;R&gt;            result type
	 * 
	 * @param firstArgument  First argument to
	 *                       {@link UnsafeBiFunction#apply(Object, Object)}
	 * @param secondArgument Second argument to
	 *                       {@link UnsafeBiFunction#apply(Object, Object)}
	 * @param function       Any {@link UnsafeFunction}
	 * @return result
	 */
	public static &lt;T, U, R&gt; R unchecked(T firstArgument, U secondArgument, UnsafeBiFunction&lt;T, U, R&gt; function) {
		try {
<span class="fc" id="L1120">			return function.apply(firstArgument, secondArgument);</span>
<span class="fc" id="L1121">		} catch (Throwable e) {</span>
<span class="fc" id="L1122">			throw unchecked(e);</span>
		}
	}

	/**
	 * Gracefully applies an {@link UnsafeBiFunction}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;            first argument type
	 * @param &lt;U&gt;            second argument type
	 * @param &lt;R&gt;            result type
	 * 
	 * @param firstArgument  First argument to
	 *                       {@link UnsafeBiFunction#apply(Object, Object)}
	 * @param secondArgument Second argument to
	 *                       {@link UnsafeBiFunction#apply(Object, Object)}
	 * @param function       Any {@link UnsafeBiFunction}
	 * @return result
	 * @throws Exception If thrown by {@link UnsafeBiFunction#apply(Object, Object)}
	 */
	public static &lt;T, U, R&gt; R checked(T firstArgument, U secondArgument, UnsafeBiFunction&lt;T, U, R&gt; function)
			throws Exception {
		try {
<span class="fc" id="L1148">			return function.apply(firstArgument, secondArgument);</span>
<span class="fc" id="L1149">		} catch (Throwable e) {</span>
<span class="fc" id="L1150">			throw checked(e);</span>
		}
	}

	/**
	 * Gracefully applies an {@link UnsafeBiFunction}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                    first argument type
	 * @param &lt;U&gt;                    second argument type
	 * @param &lt;R&gt;                    result type
	 * @param &lt;T1&gt;                   Expected exception type
	 * 
	 * @param expectedExceptionClass Expected exception class
	 * @param firstArgument          First argument to
	 *                               {@link UnsafeBiFunction#apply(Object, Object)}
	 * @param secondArgument         Second argument to
	 *                               {@link UnsafeBiFunction#apply(Object, Object)}
	 * @param function               Any {@link UnsafeBiFunction}
	 * @return result
	 * @throws T1 If thrown by {@link UnsafeBiFunction#apply(Object, Object)}
	 */
	public static &lt;T, U, R, T1 extends Exception&gt; R checked(Class&lt;T1&gt; expectedExceptionClass, T firstArgument,
			U secondArgument, UnsafeBiFunction&lt;T, U, R&gt; function) throws T1 {
		try {
<span class="fc" id="L1178">			return function.apply(firstArgument, secondArgument);</span>
<span class="fc" id="L1179">		} catch (Throwable e) {</span>
<span class="fc" id="L1180">			throw checked(e, expectedExceptionClass);</span>
		}
	}

	/**
	 * Gracefully applies an {@link UnsafeBiFunction}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                     first argument type
	 * @param &lt;U&gt;                     second argument type
	 * @param &lt;R&gt;                     result type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param firstArgument           First argument to
	 *                                {@link UnsafeBiFunction#apply(Object, Object)}
	 * @param secondArgument          Second argument to
	 *                                {@link UnsafeBiFunction#apply(Object, Object)}
	 * @param function                Any {@link UnsafeBiFunction}
	 * @return result
	 * @throws T1 If thrown by {@link UnsafeBiFunction#apply(Object, Object)}
	 * @throws T2 If thrown by {@link UnsafeBiFunction#apply(Object, Object)}
	 */
	public static &lt;T, U, R, T1 extends Exception, T2 extends Exception&gt; R checked(Class&lt;T1&gt; expectedExceptionClass1,
			Class&lt;T2&gt; expectedExceptionClass2, T firstArgument, U secondArgument, UnsafeBiFunction&lt;T, U, R&gt; function)
			throws T1, T2 {
		try {
<span class="fc" id="L1212">			return function.apply(firstArgument, secondArgument);</span>
<span class="fc" id="L1213">		} catch (Throwable e) {</span>
<span class="fc" id="L1214">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2);</span>
		}
	}

	/**
	 * Gracefully applies an {@link UnsafeBiFunction}.
	 * 
	 * &lt;p&gt;
	 * Handles exceptions via {@link #checked(Throwable, Class, Class, Class)}.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;                     first argument type
	 * @param &lt;U&gt;                     second argument type
	 * @param &lt;R&gt;                     result type
	 * @param &lt;T1&gt;                    Expected exception type
	 * @param &lt;T2&gt;                    Expected exception type
	 * @param &lt;T3&gt;                    Expected exception type
	 * 
	 * @param expectedExceptionClass1 Expected exception class
	 * @param expectedExceptionClass2 Expected exception class
	 * @param expectedExceptionClass3 Expected exception class
	 * @param firstArgument           First argument to
	 *                                {@link UnsafeBiFunction#apply(Object, Object)}
	 * @param secondArgument          Second argument to
	 *                                {@link UnsafeBiFunction#apply(Object, Object)}
	 * @param function                Any {@link UnsafeBiFunction}
	 * @return result
	 * @throws T1 If thrown by {@link UnsafeBiFunction#apply(Object, Object)}
	 * @throws T2 If thrown by {@link UnsafeBiFunction#apply(Object, Object)}
	 * @throws T3 If thrown by {@link UnsafeBiFunction#apply(Object, Object)}
	 */
	public static &lt;T, U, R, T1 extends Exception, T2 extends Exception, T3 extends Exception&gt; R checked(
			Class&lt;T1&gt; expectedExceptionClass1, Class&lt;T2&gt; expectedExceptionClass2, Class&lt;T3&gt; expectedExceptionClass3,
			T firstArgument, U secondArgument, UnsafeBiFunction&lt;T, U, R&gt; function) throws T1, T2, T3 {
		try {
<span class="fc" id="L1249">			return function.apply(firstArgument, secondArgument);</span>
<span class="fc" id="L1250">		} catch (Throwable e) {</span>
<span class="fc" id="L1251">			throw checked(e, expectedExceptionClass1, expectedExceptionClass2, expectedExceptionClass3);</span>
		}
	}

	/**
	 * Gracefully initializes a component that depends on an {@link AutoCloseable}
	 * resource, {@link AutoCloseable#close() closing} the resource and suppressing
	 * any close errors before rethrowing a checked exception if the component fails
	 * to initialize.
	 * 
	 * &lt;p&gt;
	 * If no exception or error is thrown by {@code initializer}, then the resource
	 * remains open, and becomes the responsibility of the initialized component to
	 * close when finished with it.
	 * &lt;/p&gt;
	 * 
	 * @param &lt;T&gt;         {@link AutoCloseable} resource type
	 * @param &lt;R&gt;         {@link UnsafeFunction} dependent component type
	 * 
	 * @param resource    Open resource
	 * @param initializer {@link UnsafeFunction} for initializing the resource
	 * @return {@code resource}, after successfully invoking
	 *         {@code initializationConsumer}
	 * @throws Exception If thrown from by {@code initializationConsumer}
	 */
	public static &lt;T extends AutoCloseable, R&gt; R initialize(T resource, UnsafeFunction&lt;T, R&gt; initializer)
			throws Exception {
		try {
<span class="fc" id="L1279">			return initializer.apply(resource);</span>
<span class="fc" id="L1280">		} catch (Throwable e) {</span>
<span class="fc" id="L1281">			suppress(e, resource::close);</span>
<span class="fc" id="L1282">			throw checked(e);</span>
		}
	}

	/**
	 * Runs an {@link UnsafeRunnable} and adds any exception thrown as suppressed by
	 * an another exception.
	 * 
	 * &lt;p&gt;
	 * This is useful for adding clean-up tasks to error handling routines related
	 * to failed initialization of closeable resources.
	 * &lt;/p&gt;
	 * 
	 * @param throwable Throwable that will
	 *                  {@link Throwable#addSuppressed(Throwable) suppress}
	 *                  exceptions thrown from {@code runnable}.
	 * @param runnable  {@link UnsafeRunnable}; will be run, and any exceptions
	 *                  thrown will be suppressed by {@code throwable}
	 * @return throwable if non-null; the exception thrown from runnable or null if
	 *         no exception was thrown
	 */
	public static Throwable suppress(Throwable throwable, UnsafeRunnable runnable) {
		try {
<span class="fc" id="L1305">			runnable.run();</span>
<span class="fc" id="L1306">		} catch (Throwable e) {</span>
<span class="fc bfc" id="L1307" title="All 2 branches covered.">			if (throwable == null)</span>
<span class="fc" id="L1308">				throwable = e;</span>
			else
<span class="fc" id="L1310">				throwable.addSuppressed(e);</span>
<span class="fc" id="L1311">		}</span>
<span class="fc" id="L1312">		return throwable;</span>
	}

	/**
	 * Runs a sequence of tasks with error suppression.
	 * 
	 * &lt;p&gt;
	 * All tasks are guaranteed to run, but not guaranteed to finish. After all
	 * tasks have run, the first error encountered will be thrown; all additional
	 * errors will be suppressed.
	 * &lt;/p&gt;
	 * 
	 * @param tasks tasks to run
	 * @throws Throwable from the first task the fails in error
	 */
	public static void suppress(UnsafeRunnable... tasks) throws Throwable {
<span class="fc" id="L1328">		suppress(IuIterable.iter(tasks));</span>
<span class="fc" id="L1329">	}</span>

	/**
	 * Runs a sequence of tasks with error suppression.
	 * 
	 * &lt;p&gt;
	 * All tasks are guaranteed to run, but not guaranteed to finish. After all
	 * tasks have run, the first error encountered will be thrown; all additional
	 * errors will be suppressed.
	 * &lt;/p&gt;
	 * 
	 * @param tasks tasks to run
	 * @throws Throwable from the first task the fails in error
	 */
	public static void suppress(Iterable&lt;UnsafeRunnable&gt; tasks) throws Throwable {
<span class="fc" id="L1344">		Throwable e = null;</span>
<span class="fc bfc" id="L1345" title="All 2 branches covered.">		for (final var task : tasks)</span>
<span class="fc" id="L1346">			e = suppress(e, task);</span>
<span class="fc bfc" id="L1347" title="All 2 branches covered.">		if (e != null)</span>
<span class="fc" id="L1348">			throw e;</span>
<span class="fc" id="L1349">	}</span>

	private IuException() {
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>